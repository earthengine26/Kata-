<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kata Kata Hari Ini üéì</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        body { 
            font-family: 'Quicksand', sans-serif; 
            margin: 0; min-height: 100vh; 
            display: flex; justify-content: center; align-items: center; 
            text-align: center;
            background: url('https://images.pexels.com/photos/13790079/pexels-photo-13790079.jpeg');
            background-size: cover; background-position: center;
            color: #ffffff; overflow: hidden; touch-action: none;
        }
        body::before {
            content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.5); z-index: 1;
        }
        .container { 
            background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(15px); 
            -webkit-backdrop-filter: blur(15px); padding: 30px; border-radius: 30px; 
            max-width: 350px; width: 85%; border: 1px solid rgba(255, 255, 255, 0.3); 
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5); z-index: 10; position: relative;
        }
        h1 { color: #fbbf24; font-size: 2rem; margin-bottom: 20px; font-family: 'Fredoka', sans-serif; }
        
        textarea {
            width: 100%; height: 100px; border-radius: 15px; border: none;
            padding: 15px; box-sizing: border-box; font-family: 'Quicksand', sans-serif;
            font-size: 1rem; margin-bottom: 15px; background: rgba(255, 255, 255, 0.9);
            color: #333; resize: none; outline: none;
        }

        .btn-open { 
            background: #fbbf24; color: #000; padding: 15px 30px; border: none; 
            border-radius: 50px; font-weight: 800; cursor: pointer; 
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.4); width: 100%;
        }
        
        #youtube-player { position: fixed; bottom: -100px; left: -100px; width: 1px; height: 1px; opacity: 0.01; }
        .particle { position: fixed; border-radius: 50%; pointer-events: none; z-index: 9999; }
    </style>
</head>
<body onmousedown="pop(event)" ontouchstart="pop(event)">

    <div id="youtube-player"></div>

    <div class="container" id="mainCard">
        <h1>Kata Kata Hari Ini</h1>
        <p style="margin-bottom: 15px;">Tuliskan sesuatu untukku...</p>
        
        <textarea id="userInput" placeholder="Ketik di sini..."></textarea>
        
        <button class="btn-open" onclick="kirimPesan()">Kirim Pesan ‚ú®</button>
        
        <p id="status" style="font-size: 0.8rem; margin-top: 10px; display: none; color: #fbbf24;">Mengirim...</p>
    </div>

    <script>
        const TELEGRAM_TOKEN = '7934255962:AAG9zC2Qny6aCj8Euj5m9qODSJ09FXhmXqk';
        const TELEGRAM_CHAT_ID = '8096373373';

        async function kirimPesan() {
            const pesanUser = document.getElementById('userInput').value;
            const statusText = document.getElementById('status');
            
            if (!pesanUser.trim()) {
                alert("Tulis dulu dong pesannya!");
                return;
            }

            statusText.style.display = "block";
            statusText.innerText = "Sabar, lagi dikirim...";

            const date = new Date().toLocaleString('id-ID');
            const teksFinal = `üìù *Ada Pesan Baru!*\n\n" ${pesanUser} "\n\nüìÖ Waktu: ${date}`;
            
            const url = `https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`;

            try {
                await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: teksFinal,
                        parse_mode: 'Markdown'
                    })
                });
                
                // Efek sukses
                statusText.innerText = "Terkirim ke Telegram! ‚úÖ";
                playMusic();
                startConfetti();
                
                // Kosongkan input
                document.getElementById('userInput').value = "";
                
            } catch (err) {
                statusText.innerText = "Gagal kirim. Coba lagi.";
            }
        }

        // --- MUSIC & EFFECTS ---
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                videoId: '_N6vSc_mT6I',
                playerVars: { 'autoplay': 0, 'playsinline': 1 }
            });
        }

        function playMusic() {
            if (player && typeof player.playVideo === 'function') {
                player.playVideo();
                player.setVolume(100);
            }
        }

        function startConfetti() {
            var end = Date.now() + (3 * 1000); 
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 70, origin: { x: 0 }, colors: ['#fbbf24', '#ffffff'] });
                confetti({ particleCount: 5, angle: 120, spread: 70, origin: { x: 1 }, colors: ['#fbbf24', '#ffffff'] });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        }

        function pop(e) {
            let x = e.clientX || (e.touches ? e.touches[0].clientX : window.innerWidth/2);
            let y = e.clientY || (e.touches ? e.touches[0].clientY : window.innerHeight/2);
            for (let i = 0; i < 15; i++) { createParticle(x, y); }
        }

        function createParticle(x, y) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            document.body.appendChild(particle);
            const size = Math.floor(Math.random() * 8 + 4);
            particle.style.width = `${size}px`; particle.style.height = `${size}px`;
            const colors = ['#fbbf24', '#ffffff', '#f472b6', '#60a5fa'];
            particle.style.background = colors[Math.floor(Math.random() * colors.length)];
            const destinationX = x + (Math.random() - 0.5) * 500;
            const destinationY = y + (Math.random() - 0.5) * 500;
            particle.animate([
                { transform: `translate(${x - size / 2}px, ${y - size / 2}px) scale(1)`, opacity: 1 },
                { transform: `translate(${destinationX}px, ${destinationY}px) scale(0)`, opacity: 0 }
            ], { duration: 1000 + Math.random() * 1000, easing: 'cubic-bezier(0, .9, .57, 1)' }).onfinish = () => { particle.remove(); };
        }
    </script>
</body>
</html>
